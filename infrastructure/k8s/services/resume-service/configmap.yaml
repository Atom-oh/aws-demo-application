apiVersion: v1
kind: ConfigMap
metadata:
  name: resume-service-config
  namespace: hirehub
  labels:
    app.kubernetes.io/name: resume-service
    app.kubernetes.io/component: backend
data:
  # Application configuration
  APP_ENV: "production"
  APP_PORT: "8000"
  APP_HOST: "0.0.0.0"
  APP_WORKERS: "4"

  # Database configuration
  DATABASE_NAME: "hirehub_resume"
  DATABASE_SSL_MODE: "require"
  DATABASE_POOL_SIZE: "10"
  DATABASE_MAX_OVERFLOW: "20"

  # AWS S3 configuration
  AWS_REGION: "ap-northeast-2"
  S3_BUCKET_NAME: "hirehub-resumes"
  S3_PRESIGNED_URL_EXPIRY: "3600"

  # Kafka configuration
  KAFKA_CONSUMER_GROUP_ID: "resume-service-group"
  KAFKA_TOPIC_RESUME_UPLOADED: "resume.uploaded"
  KAFKA_TOPIC_RESUME_PROCESSED: "resume.processed"

  # AI Service configuration
  AI_SERVICE_URL: "http://ai-service:8000"
  AI_SERVICE_TIMEOUT: "30"

  # PII Masking configuration
  PII_MASK_PHONE: "true"
  PII_MASK_EMAIL: "true"
  PII_MASK_ADDRESS: "true"
  PII_MASK_SSN: "true"

  # Logging
  LOG_LEVEL: "INFO"
  LOG_FORMAT: "json"

  # Tracing
  OTEL_EXPORTER_OTLP_ENDPOINT: "http://otel-collector.observability:4317"
  OTEL_SERVICE_NAME: "resume-service"
