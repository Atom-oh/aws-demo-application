# HireHub Platform - Global Values
# This file contains default values for the HireHub platform

# Global settings applied to all subcharts
global:
  # Namespace configuration
  namespace: hirehub
  createNamespace: true

  # Environment identifier (dev, staging, prod)
  environment: dev

  # AWS Region
  region: ap-northeast-2

  # Common labels applied to all resources
  labels:
    app.kubernetes.io/part-of: hirehub
    app.kubernetes.io/managed-by: helm

  # Annotations for all resources
  annotations: {}

  # Container registry
  imageRegistry: ""
  imagePullSecrets: []

  # Service mesh (Istio) configuration
  istio:
    enabled: false
    injection: enabled

  # Monitoring configuration
  monitoring:
    enabled: true
    prometheusNamespace: monitoring

  # IRSA (IAM Roles for Service Accounts) configuration
  irsa:
    enabled: true
    roleArnPrefix: "arn:aws:iam::123456789012:role"

  # Database configuration
  database:
    host: aurora-postgresql.hirehub.local
    port: 5432
    sslMode: require

  # Cache configuration
  cache:
    host: elasticache.hirehub.local
    port: 6379

  # Kafka/MSK configuration
  kafka:
    bootstrapServers: "msk-broker1:9092,msk-broker2:9092,msk-broker3:9092"
    securityProtocol: SASL_SSL

  # OpenSearch configuration
  opensearch:
    host: opensearch.hirehub.local
    port: 443

  # gRPC settings
  grpc:
    port: 50051
    mtls:
      enabled: true
      secretName: grpc-mtls-certs

# Service-specific configurations
# Each service can override these defaults

user-service:
  enabled: true
  replicaCount: 2
  image:
    repository: hirehub/user-service
    tag: latest
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi

job-service:
  enabled: true
  replicaCount: 2
  image:
    repository: hirehub/job-service
    tag: latest
  resources:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi

resume-service:
  enabled: true
  replicaCount: 2
  image:
    repository: hirehub/resume-service
    tag: latest
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      cpu: 1000m
      memory: 1Gi

apply-service:
  enabled: true
  replicaCount: 2
  image:
    repository: hirehub/apply-service
    tag: latest
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi

ai-service:
  enabled: true
  replicaCount: 2
  image:
    repository: hirehub/ai-service
    tag: latest
  resources:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: 2000m
      memory: 4Gi

match-service:
  enabled: true
  replicaCount: 2
  image:
    repository: hirehub/match-service
    tag: latest
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      cpu: 1000m
      memory: 1Gi

notification-service:
  enabled: true
  replicaCount: 2
  image:
    repository: hirehub/notification-service
    tag: latest
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi
  keda:
    enabled: true
