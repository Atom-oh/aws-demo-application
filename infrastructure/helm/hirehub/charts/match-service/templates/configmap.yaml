{{- if .Values.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "match-service.fullname" . }}-config
  namespace: {{ include "match-service.namespace" . }}
  labels:
    {{- include "match-service.labels" . | nindent 4 }}
data:
  LOG_LEVEL: {{ .Values.config.logLevel | quote }}
  GRPC_PORT: {{ .Values.config.grpcPort | quote }}
  HTTP_PORT: {{ .Values.config.httpPort | quote }}
  METRICS_PORT: {{ .Values.config.metricsPort | quote }}
  SERVICE_NAME: {{ include "match-service.fullname" . | quote }}
  AI_SERVICE_ENDPOINT: {{ .Values.config.aiServiceEndpoint | quote }}
  {{- if .Values.global }}
  {{- if .Values.global.grpc }}
  {{- if .Values.global.grpc.mtls }}
  GRPC_MTLS_ENABLED: {{ .Values.global.grpc.mtls.enabled | quote }}
  {{- end }}
  {{- end }}
  {{- if .Values.global.region }}
  AWS_REGION: {{ .Values.global.region | quote }}
  {{- end }}
  {{- end }}
{{- end }}
